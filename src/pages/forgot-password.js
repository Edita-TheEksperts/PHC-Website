import { useState } from "react";

export default function ForgotPasswordPage() {
  const [email, setEmail] = useState("");

  async function handleSubmit(e) {
    e.preventDefault();
  
    const res = await fetch("/api/forgot-password", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email }),
    });
  
    if (res.ok) {
      const data = await res.json(); // <- this is missing maybe
      console.log(data); // ðŸ‘ˆ See if resetToken is coming
      window.location.href = `/reset-password?resetToken=${data.resetToken}`;
    } else {
      alert("Email not found or error.");
    }
  }
  
  
  
    return (
      <div className="flex bg-[#FAFCFF] max-w-[1410px] w-full mx-auto  px-2 lg:px-0 py-[0px] lg:py-0">
        
        {/* Left Image Section */}
        <div className="hidden lg:flex w-1/2 justify-center items-center mt-[8px]">
          <img
            src="/images/forgot-password-side-image.png"
            alt="Forgot Password Visual"
            className="w-[600px] h-[800px] object-cover rounded-[20px]"
          />
        </div>
  
        {/* Right Form Section */}
        <div className="flex flex-col justify-center items-start w-full lg:w-1/2 px-0 lg:px-10 mt-8 lg:mt-0">
  
          {/* Logo */}
          <div className="mb-20">
          <svg xmlns="http://www.w3.org/2000/svg" width="100" height="49" viewBox="0 0 100 49" fill="none">
  <g clip-path="url(#clip0_1799_1767)">
    <path d="M81.6188 6.59398C83.6886 5.50118 86.1174 4.95753 88.9082 4.95753C90.5941 4.95753 92.1786 5.12227 93.6781 5.45725C95.1695 5.80046 97.2474 6.53082 99.1965 7.37376V2.16239C95.9425 0.959772 92.4994 0.361206 88.8588 0.361206C85.2183 0.361206 81.8984 1.11079 79.0776 2.6072C76.2512 4.1091 74.0663 6.21781 72.5174 8.9498C70.9768 11.6735 70.1982 14.8284 70.1982 18.3951C70.1982 21.9617 70.9768 25.2456 72.5174 28.0407C74.0663 30.8359 76.243 32.9968 79.0501 34.5316C81.8546 36.061 85.0976 36.827 88.7601 36.827C91.0437 36.827 93.1162 36.6129 94.9639 36.1983C96.2715 35.899 97.6778 35.4322 99.1965 34.7897V29.4548C97.3105 30.4982 95.5834 31.2203 94.0071 31.6212C92.4226 32.0275 90.6599 32.228 88.7108 32.228C86.09 32.228 83.7571 31.6925 81.7285 30.6107C79.6944 29.5317 78.1016 27.9584 76.9585 25.8909C75.8153 23.8178 75.2451 21.3137 75.2451 18.3896C75.2451 15.6301 75.7879 13.2413 76.879 11.2397C77.97 9.2381 79.5573 7.68677 81.6188 6.59123V6.59398Z" fill="#04436F"/>
    <path d="M0 40.251H3.48977C4.07369 40.251 4.60826 40.369 5.09074 40.6024C5.57322 40.8358 5.95702 41.1653 6.23664 41.5854C6.51626 42.0082 6.65607 42.4805 6.65607 43.0077C6.65607 43.5349 6.51626 44.0071 6.23664 44.43C5.95702 44.8528 5.57596 45.1795 5.09074 45.4129C4.60826 45.6463 4.07369 45.7644 3.48977 45.7644H0.975931V48.8588H0V40.251ZM3.31433 44.8363C4.02434 44.8363 4.59181 44.6743 5.02221 44.3476C5.4526 44.0208 5.66643 43.576 5.66643 43.0077C5.66643 42.4393 5.4526 41.9918 5.02221 41.6678C4.59181 41.341 4.02434 41.179 3.31433 41.179H0.975931V44.8391H3.31433V44.8363Z" fill="#04436F"/>
    <path d="M9.74544 42.6122C10.1868 42.3569 10.7049 42.2306 11.2971 42.2306V43.0708C10.8146 43.0708 10.3814 43.1641 10.0031 43.3453C9.62482 43.5293 9.32875 43.7874 9.11493 44.1169C8.9011 44.4464 8.79693 44.8198 8.79693 45.2371V48.8587H7.85938V42.3816H8.79693V43.6474C8.98882 43.2136 9.30682 42.8676 9.74819 42.6122H9.74544Z" fill="#04436F"/>
    <path d="M12.3665 41.0143C12.2459 40.888 12.1855 40.7424 12.1855 40.5749C12.1855 40.4075 12.2459 40.2647 12.3665 40.1439C12.4871 40.0231 12.6351 39.9626 12.8106 39.9626C12.986 39.9626 13.1204 40.0231 13.241 40.1439C13.3616 40.2647 13.4219 40.4102 13.4219 40.5749C13.4219 40.7397 13.3616 40.888 13.241 41.0143C13.1204 41.1406 12.9751 41.201 12.8106 41.201C12.6351 41.201 12.4871 41.1378 12.3665 41.0143ZM12.3363 42.3816H13.2739V48.8588H12.3363V42.3816Z" fill="#04436F"/>
    <path d="M23.0963 42.5492C23.4472 42.7633 23.7186 43.0599 23.916 43.4388C24.1106 43.8177 24.2093 44.2515 24.2093 44.7347V48.8588H23.2717V44.861C23.2717 44.3339 23.1319 43.9055 22.8523 43.5706C22.5727 43.2356 22.2163 43.0681 21.7832 43.0681C21.265 43.0681 20.8456 43.2246 20.5194 43.5376C20.1932 43.8506 20.0314 44.2488 20.0314 44.7347V48.8588H19.0939V44.861C19.0939 44.3339 18.9541 43.9055 18.6744 43.5706C18.3948 43.2356 18.0384 43.0681 17.6053 43.0681C17.0872 43.0681 16.6678 43.2246 16.3415 43.5376C16.0153 43.8506 15.8536 44.2488 15.8536 44.7347V48.8588H14.916V42.3817H15.8536V43.3344C16.0208 42.9912 16.2675 42.7221 16.5992 42.5272C16.9282 42.3322 17.3065 42.2334 17.7314 42.2334C18.2139 42.2334 18.6415 42.357 19.0089 42.6041C19.3762 42.8512 19.6476 43.1862 19.8231 43.6117C19.9574 43.1944 20.2151 42.8594 20.5989 42.6096C20.9827 42.3597 21.4213 42.2334 21.912 42.2334C22.3534 42.2334 22.7509 42.3405 23.1018 42.5519L23.0963 42.5492Z" fill="#04436F"/>
    <path d="M29.9331 47.9445C30.3196 47.7935 30.6157 47.6095 30.8158 47.3926L31.3915 48.0076C31.1174 48.3097 30.7308 48.5513 30.2346 48.7352C29.7384 48.9192 29.256 49.0098 28.7899 49.0098C28.2142 49.0098 27.6769 48.8643 27.1752 48.5705C26.6736 48.2795 26.2733 47.8703 25.969 47.3487C25.6647 46.827 25.5112 46.2449 25.5112 45.5996C25.5112 44.9544 25.6538 44.3998 25.9416 43.8836C26.2295 43.3646 26.616 42.961 27.104 42.6672C27.5919 42.3762 28.1238 42.2279 28.6995 42.2279C29.6672 42.2279 30.421 42.5656 30.9583 43.2438C31.4957 43.9193 31.7643 44.8308 31.7643 45.9758H26.4735C26.5392 46.6183 26.7832 47.1455 27.2054 47.5546C27.6276 47.9637 28.1512 48.1696 28.7762 48.1696C29.16 48.1696 29.5465 48.0955 29.9331 47.9445ZM27.2356 43.6392C26.8189 44.0181 26.5694 44.5178 26.4844 45.1356H30.8377C30.7719 44.5178 30.5581 44.0181 30.199 43.6392C29.8399 43.2603 29.3519 43.0681 28.7351 43.0681C28.1512 43.0681 27.6495 43.2575 27.2328 43.6392H27.2356Z" fill="#04436F"/>
    <path d="M43.4891 40.251V48.8588H42.5132V44.9379H37.4471V48.8588H36.4712V40.251H37.4471V44.0099H42.5132V40.251H43.4891Z" fill="#04436F"/>
    <path d="M46.5156 48.5458C45.9975 48.2355 45.5863 47.8209 45.282 47.2992C44.9777 46.7776 44.8242 46.2147 44.8242 45.6134C44.8242 45.0121 44.975 44.4519 45.282 43.933C45.5863 43.4141 45.9975 43.0022 46.5156 42.6919C47.0338 42.3817 47.5875 42.2279 48.1797 42.2279C48.7718 42.2279 49.3256 42.3817 49.8382 42.6919C50.3508 43.0022 50.7593 43.4141 51.0636 43.933C51.3679 44.4519 51.5214 45.0093 51.5214 45.6134C51.5214 46.2174 51.3679 46.7776 51.0636 47.2992C50.7593 47.8209 50.3508 48.2383 49.8382 48.5458C49.3256 48.8561 48.7718 49.0098 48.1797 49.0098C47.5875 49.0098 47.0338 48.8561 46.5156 48.5458ZM49.3502 47.8182C49.7121 47.5848 49.9999 47.2718 50.2138 46.8846C50.4276 46.4975 50.5318 46.0719 50.5318 45.6134C50.5318 45.1548 50.4249 44.7402 50.2138 44.3476C49.9999 43.955 49.7121 43.6447 49.3502 43.4141C48.9884 43.1834 48.5964 43.0681 48.1797 43.0681C47.763 43.0681 47.36 43.1834 46.9981 43.4141C46.6363 43.6447 46.3484 43.955 46.1346 44.3476C45.9208 44.7402 45.8166 45.1631 45.8166 45.6134C45.8166 46.0637 45.9235 46.4975 46.1346 46.8846C46.3484 47.2718 46.6363 47.5848 46.9981 47.8182C47.36 48.0516 47.7548 48.1696 48.1797 48.1696C48.6046 48.1696 48.9856 48.0516 49.3502 47.8182Z" fill="#04436F"/>
    <path d="M61.004 42.5492C61.3549 42.7633 61.6263 43.0599 61.8237 43.4388C62.0183 43.8177 62.117 44.2515 62.117 44.7347V48.8588H61.1795V44.861C61.1795 44.3339 61.0396 43.9055 60.76 43.5706C60.4804 43.2356 60.124 43.0681 59.6909 43.0681C59.1728 43.0681 58.7533 43.2246 58.4271 43.5376C58.1009 43.8506 57.9391 44.2488 57.9391 44.7347V48.8588H57.0016V44.861C57.0016 44.3339 56.8618 43.9055 56.5822 43.5706C56.3025 43.2356 55.9462 43.0681 55.513 43.0681C54.9949 43.0681 54.5755 43.2246 54.2492 43.5376C53.923 43.8506 53.7613 44.2488 53.7613 44.7347V48.8588H52.8237V42.3817H53.7613V43.3344C53.9285 42.9912 54.1752 42.7221 54.5069 42.5272C54.8359 42.3322 55.2142 42.2334 55.6391 42.2334C56.1216 42.2334 56.5493 42.357 56.9166 42.6041C57.284 42.8512 57.5553 43.1862 57.7308 43.6117C57.8651 43.1944 58.1228 42.8594 58.5066 42.6096C58.8904 42.3597 59.329 42.2334 59.8197 42.2334C60.2611 42.2334 60.6586 42.3405 61.0095 42.5519L61.004 42.5492Z" fill="#04436F"/>
    <path d="M67.8408 47.9445C68.2273 47.7935 68.5234 47.6095 68.7235 47.3926L69.2992 48.0076C69.0251 48.3097 68.6385 48.5513 68.1423 48.7352C67.6462 48.9192 67.1637 49.0098 66.6976 49.0098C66.1219 49.0098 65.5846 48.8643 65.083 48.5705C64.5813 48.2795 64.181 47.8703 63.8768 47.3487C63.5725 46.827 63.4189 46.2449 63.4189 45.5996C63.4189 44.9544 63.5615 44.3998 63.8493 43.8836C64.1372 43.3646 64.5237 42.961 65.0117 42.6672C65.4997 42.3762 66.0315 42.2279 66.6072 42.2279C67.5749 42.2279 68.3288 42.5656 68.8661 43.2438C69.4034 43.9193 69.672 44.8308 69.672 45.9758H64.3812C64.447 46.6183 64.6909 47.1455 65.1131 47.5546C65.5353 47.9637 66.0589 48.1696 66.6839 48.1696C67.0677 48.1696 67.4543 48.0955 67.8408 47.9445ZM65.146 43.6392C64.7293 44.0181 64.4799 44.5178 64.3949 45.1356H68.7482C68.6824 44.5178 68.4686 44.0181 68.1094 43.6392C67.7503 43.2603 67.2624 43.0681 66.6455 43.0681C66.0616 43.0681 65.56 43.2575 65.1433 43.6392H65.146Z" fill="#04436F"/>
    <path d="M76.2596 48.403C75.5797 47.9966 75.0397 47.453 74.6394 46.7666C74.2392 46.0829 74.0391 45.3415 74.0391 44.548C74.0391 43.7545 74.2392 43.0187 74.6394 42.335C75.0397 41.654 75.5797 41.1104 76.2596 40.7068C76.9394 40.3004 77.6659 40.1 78.4417 40.1C79.0256 40.1 79.5849 40.2153 80.1194 40.4432C80.654 40.6738 81.1255 40.9978 81.534 41.4152L80.8706 42.0906C80.5526 41.7474 80.1852 41.4811 79.7631 41.2889C79.3409 41.0967 78.9023 41.0006 78.4445 41.0006C77.8359 41.0006 77.2712 41.1626 76.7503 41.4838C76.2294 41.8051 75.8127 42.2389 75.5002 42.788C75.1877 43.3344 75.0314 43.922 75.0314 44.548C75.0314 45.1741 75.1877 45.7726 75.5002 46.3163C75.8127 46.8599 76.2294 47.2937 76.7503 47.6205C77.2712 47.9472 77.8359 48.1092 78.4445 48.1092C78.9023 48.1092 79.3436 48.0131 79.7631 47.8209C80.1852 47.6287 80.5526 47.3624 80.8706 47.0192L81.534 47.6946C81.1255 48.1037 80.654 48.425 80.1194 48.6584C79.5849 48.8917 79.0256 49.0098 78.4417 49.0098C77.6659 49.0098 76.9394 48.8066 76.2596 48.403Z" fill="#04436F"/>
    <path d="M87.184 42.9638C87.6309 43.4525 87.8529 44.1032 87.8529 44.9132V48.8616H86.9154V47.8456C86.6906 48.2136 86.3671 48.4991 85.9449 48.705C85.5228 48.911 85.0869 49.0126 84.6373 49.0126C83.9437 49.0126 83.379 48.8259 82.9349 48.4497C82.4935 48.0735 82.2715 47.5738 82.2715 46.945C82.2715 46.5277 82.3866 46.1543 82.6142 45.8248C82.8444 45.4953 83.1515 45.24 83.5407 45.0615C83.9273 44.883 84.3522 44.7924 84.81 44.7924C85.4597 44.7924 86.1615 44.9132 86.9126 45.1548V44.916C86.9126 44.3888 86.7783 43.944 86.5124 43.5815C86.2465 43.2191 85.7942 43.0351 85.1609 43.0351C84.8676 43.0351 84.5715 43.0873 84.2672 43.1917C83.9629 43.296 83.6312 43.4415 83.2721 43.6227L82.8965 42.8594C83.7299 42.4421 84.5057 42.2334 85.224 42.2334C86.082 42.2334 86.7344 42.4778 87.1813 42.9665L87.184 42.9638ZM86.1204 47.8264C86.5343 47.5875 86.7975 47.2553 86.9154 46.8297V45.8385C86.2821 45.6628 85.6297 45.5749 84.9635 45.5749C84.4701 45.5749 84.0534 45.7012 83.7052 45.9511C83.3598 46.201 83.1871 46.5195 83.1871 46.9039C83.1871 47.2883 83.3379 47.6068 83.6449 47.8374C83.9492 48.068 84.3357 48.1834 84.8018 48.1834C85.2678 48.1834 85.7092 48.0653 86.1204 47.8264Z" fill="#04436F"/>
    <path d="M91.4935 42.6122C91.9349 42.3569 92.453 42.2306 93.0451 42.2306V43.0708C92.5626 43.0708 92.1295 43.1641 91.7512 43.3453C91.3729 43.5293 91.0768 43.7874 90.863 44.1169C90.6492 44.4464 90.545 44.8198 90.545 45.2371V48.8587H89.6074V42.3816H90.545V43.6474C90.7369 43.2136 91.0549 42.8676 91.4962 42.6122H91.4935Z" fill="#04436F"/>
    <path d="M98.1689 47.9445C98.5554 47.7935 98.8515 47.6095 99.0516 47.3926L99.6273 48.0076C99.3532 48.3097 98.9667 48.5513 98.4705 48.7352C97.9743 48.9192 97.4918 49.0098 97.0258 49.0098C96.4501 49.0098 95.9128 48.8643 95.4111 48.5705C94.9094 48.2795 94.5092 47.8703 94.2049 47.3487C93.9006 46.827 93.7471 46.2449 93.7471 45.5996C93.7471 44.9544 93.8896 44.3998 94.1775 43.8836C94.4653 43.3646 94.8518 42.961 95.3398 42.6672C95.8278 42.3762 96.3596 42.2279 96.9353 42.2279C97.903 42.2279 98.6569 42.5656 99.1942 43.2438C99.7315 43.9193 100 44.8308 100 45.9758H94.7093C94.7751 46.6183 95.0191 47.1455 95.4412 47.5546C95.8634 47.9637 96.387 48.1696 97.0121 48.1696C97.3958 48.1696 97.7824 48.0955 98.1689 47.9445ZM95.4714 43.6392C95.0547 44.0181 94.8052 44.5178 94.7203 45.1356H99.0736C99.0078 44.5178 98.7939 44.0181 98.4348 43.6392C98.0757 43.2603 97.5877 43.0681 96.9709 43.0681C96.387 43.0681 95.8853 43.2575 95.4687 43.6392H95.4714Z" fill="#04436F"/>
    <path d="M25.2865 5.57258C24.1872 3.78512 22.6658 2.41226 20.7112 1.45401C18.7538 0.48752 16.5004 0.00976562 13.929 0.00976562H0.405762V36.0473H5.34573V23.4856H13.9262C16.4949 23.4856 18.7675 23.0079 20.7358 22.0496C22.7069 21.0831 24.2256 19.7267 25.3057 17.953C26.3913 16.1875 26.9259 14.12 26.9259 11.7532C26.9259 9.38638 26.3748 7.35455 25.2838 5.57533L25.2865 5.57258ZM14.798 19.1227H5.34573V4.42762H14.798C18.8525 4.42762 22.1284 7.71698 22.1284 11.7779C22.1284 15.8388 18.8525 19.1199 14.798 19.1199V19.1227Z" fill="#04436F"/>
    <path d="M58.6655 0.00976562V36.0473H63.6055V0.00976562H58.6655ZM32.606 0.00976562V36.0473H37.5459V0.00976562H32.606Z" fill="#04436F"/>
    <path d="M67.9315 21.0913L48.2319 13.0711C48.1497 13.0409 48.0592 13.0409 47.9797 13.0711L28.2802 21.0913C28.0965 21.16 28.0033 21.3632 28.0718 21.5471L28.8476 23.6806C28.9162 23.8673 29.1245 23.9634 29.3109 23.892L47.9825 18.0052C48.0647 17.975 48.1552 17.975 48.2347 18.0052L66.9062 23.892C67.0926 23.9634 67.301 23.8673 67.3695 23.6806L68.1453 21.5471C68.2111 21.3632 68.1179 21.16 67.937 21.0913H67.9315Z" fill="#B99B5F"/>
  </g>
  <defs>
    <clipPath id="clip0_1799_1767">
      <rect width="100" height="49" fill="white" transform="translate(0 0.00976562)"/>
    </clipPath>
  </defs>
</svg>
          </div>
  
          {/* Heading */}
          <h1 className="text-[#04436F] text-left font-bold text-[32px] lg:text-[40px] leading-[40px] tracking-[0.18px]">
            Reset Password
          </h1>
  
          {/* Subheading */}
          <p className="text-[#04436F] text-left mt-2 text-[16px]">
            Insert the email address you used
          </p>
  
          {/* Form */}
          <form onSubmit={handleSubmit} className="flex flex-col w-full gap-[20px] mt-10">
  
            {/* Email Field */}
            <div className="flex flex-col w-full">
              <label className="text-[#04436F] font-bold text-[15px] leading-[25.6px] mb-2">
                Email Address
              </label>
              <input
        type="email"
        placeholder="Enter your email"
        className="h-[48px] w-full rounded-[10px] border border-[#C8D4E7] bg-[#FAFCFF] px-4"
        value={email}
        onChange={(e) => setEmail(e.target.value)}
        required
      />
            </div>
  
            {/* Submit Button */}
            <button
              type="submit"
              className="bg-[#04436F] text-white text-[18px] font-[500] h-[48px] rounded-[10px] mt-4"
            >
              Send Code
            </button>
  
          </form>
        </div>
  
      </div>
    );
  }
  